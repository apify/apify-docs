name: Lint with Vale on pull request
on: [pull_request]

jobs:
    vale:
        name: vale
        runs-on: ubuntu-latest
        steps:
        - name: Checkout
          uses: actions/checkout@v4
        - name: Get Changed Files
          id: get_changed_files
          uses: lots0logs/gh-action-get-changed-files@2.1.4
          with:
            token: ${{ secrets.GITHUB_TOKEN }}
        - name: Vale
          uses: errata-ai/vale-action@reviewdog
          with:
            files: '${{ steps.get_changed_files.output.all }}'
            fail_on_error: true
            filter_mode: file
